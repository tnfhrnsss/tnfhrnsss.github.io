<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>Feign LB using nginx (without Eureka) | _JJ@Developer</title><meta name="generator" content="Jekyll v3.9.0" /><meta property="og:title" content="Feign LB using nginx (without Eureka)" /><meta property="og:locale" content="en_US" /><meta name="description" content="This blog for software developing documentation." /><meta property="og:description" content="This blog for software developing documentation." /><link rel="canonical" href="http://localhost:4000/docs/msa/feign/feignandribbon/" /><meta property="og:url" content="http://localhost:4000/docs/msa/feign/feignandribbon/" /><meta property="og:site_name" content="_JJ@Developer" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-04-11T06:31:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Feign LB using nginx (without Eureka)" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-04-11T06:31:00+09:00","datePublished":"2022-04-11T06:31:00+09:00","description":"This blog for software developing documentation.","headline":"Feign LB using nginx (without Eureka)","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/docs/msa/feign/feignandribbon/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/images/one_.png"}},"url":"http://localhost:4000/docs/msa/feign/feignandribbon/"}</script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1261619070611227" crossorigin="anonymous"></script><body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg><div class="side-bar"><div class="site-header"> <a href="http://localhost:4000/" class="site-title lh-tight"><div class="site-logo"></div></a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a></div><nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"><ul class="nav-list"><li class="nav-list-item"><a href="http://localhost:4000/" class="nav-list-link">Home</a><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/msa" class="nav-list-link">Msa</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/msa/spring-cloud/springcloud/" class="nav-list-link">SpringCloud</a><ul class="nav-list"></ul><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/msa/feign/feign/" class="nav-list-link">Feign</a><ul class="nav-list"></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/msa/elastic-search/elasticsearch/" class="nav-list-link">Elastic Search</a><ul class="nav-list"></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/msa/kafka/kafka/" class="nav-list-link">Kafka</a><ul class="nav-list"></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/msa/nginx/nginx/" class="nav-list-link">Nginx</a><ul class="nav-list"></ul></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/patterns" class="nav-list-link">Patterns</a><ul class="nav-list "></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/errors" class="nav-list-link">Errors</a><ul class="nav-list "></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/clipping" class="nav-list-link">Clipping</a><ul class="nav-list "></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/mooc" class="nav-list-link">Mooc</a><ul class="nav-list "></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/sub-projects" class="nav-list-link">Sub Projects</a><ul class="nav-list "></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/quality" class="nav-list-link">Quality Practice</a><ul class="nav-list "></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/etc" class="nav-list-link">Etc</a><ul class="nav-list "></ul><li class="nav-list-item"><a href="http://localhost:4000/docs/bookmark/" class="nav-list-link">★bookmark</a></ul></nav><footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</footer></div><div class="main" id="top"><div id="main-header" class="main-header"><div class="search"><div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search _JJ@Developer" aria-label="Search _JJ@Developer" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results"></div></div></div><div id="main-content-wrap" class="main-content-wrap"><nav aria-label="Breadcrumb" class="breadcrumb-nav"><ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/docs/msa">Msa</a><li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/docs/msa/feign/feign/">Feign</a><li class="breadcrumb-nav-list-item"><span>Feign LB using nginx (without Eureka)</span></ol></nav><div id="main-content" class="main-content" role="main"><header class="header-page"><h1 class="page-title"> Feign LB using nginx (without Eureka)</h1><div class="page-date"><span>2022, Apr 10&nbsp;&nbsp;&nbsp;&nbsp;</span></div></header><div class="col-lg-8 col-md-10 mx-auto"> <span class="tag">feign</span> <span class="tag">eureka</span> <span class="tag">ribbon</span> <span class="tag">nginx</span></div><h1 id="시스템-구성도"> <a href="#시스템-구성도" class="anchor-heading" aria-labelledby="시스템-구성도"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 시스템 구성도</h1><p><img src="../img/feignWithoutEureka.png" alt="feignWithoutEureka" /></p><p>subject: how to dynamically specify feign call service name according to the environment</p><h2 id="구성-환경-설명"> <a href="#구성-환경-설명" class="anchor-heading" aria-labelledby="구성-환경-설명"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 구성 환경 설명</h2><ul><li>다중화 구성 AP서버에서 Nginx G/W를 통해 ThirdParty Server의 API를 호출하는 구성<li>Nginx 앞에 L4 존재<li>Nginx는 Failover 구성</ul><h2 id="요구사항"> <a href="#요구사항" class="anchor-heading" aria-labelledby="요구사항"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 요구사항</h2><ul><li>Eureka에 등록되지 않은 서비스를 Ribbin통해 LB되게 해야한다.</ul><h2 id="개발-항목"> <a href="#개발-항목" class="anchor-heading" aria-labelledby="개발-항목"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 개발 항목</h2><ul><li>AS-IS<ul><li>direct로 외부 API를 feign#httpclient로 호출</ul><li>TO-BE<ul><li>Nginx G/W를 통해서 호출하도록 변경 필요</ul></ul><h2 id="테스트-환경-구성"> <a href="#테스트-환경-구성" class="anchor-heading" aria-labelledby="테스트-환경-구성"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 테스트 환경 구성</h2><ul><li>Window에 두개 서비스 올려도 됨 (1.19.9 버전)<li>Nginx 설정<ul><li>proxy_pass설정</ul><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  server {
          listen       8050;
          server_name  localhost;
          charset utf-8;
    
          location ~* ^/(chat|image|file) {
              resolver 8.8.8.8;
              proxy_pass  https://test.com$uri;
          }
    
          # Health Check
          location /ping {
              access_log on;
              add_header 'Content-Type' 'application/json';
              return 200 '{"status":"UP"}';
          }
    
      }
</code></pre></div></div><ul><li>동일 서버에서 여러개 띄우려면, 포트만 다르게 해서 띄우도록 한다.<li>server목록에 http url이나 서블릿path가 붙으면 안됨, 딱 c클래스까지</ul></ul><h3 id="problem-1"> <a href="#problem-1" class="anchor-heading" aria-labelledby="problem-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> problem 1</h3><p><a href="https://niiiii.tistory.com/entry/Eureka-%EC%97%86%EC%9D%B4-ribbon%EC%9C%BC%EB%A1%9C-load-balancing-%EC%B2%98%EB%A6%AC%ED%95%98%EA%B8%B0">https://niiiii.tistory.com/entry/Eureka-없이-ribbon으로-load-balancing-처리하기</a> 에서처럼 yml설정만으로 했을때, npe발생</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> c.n.l.RoundRobinRule    : 66 choose          No up servers available from load balancer: DynamicServerListLoadBalancer:{NFLoadBalancer:name=kakao-service,current list of Servers=[],Load balancer stats=Zone stats: {},Server stats: []}ServerList:org.springframework.cloud.netflix.ribbon.eureka.DomainExtractingServerList@4be00017
07:44:29.490 -service-2 WARN  c.n.l.BaseLoadBalancer  :757 chooseServer    LoadBalancer [kakao-service]:  Error choosing server for key null
java.lang.NullPointerException: null
at com.google.common.base.Preconditions.checkNotNull(Preconditions.java:878)
at com.google.common.cache.LocalCache.get(LocalCache.java:3950)
at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3974)
at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4935)
</code></pre></div></div><h3 id="cause-1"> <a href="#cause-1" class="anchor-heading" aria-labelledby="cause-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> cause 1</h3><p>기본 healthcheck uri는 / 루트로 되고 있는데,</p><p>nginx.conf에 / 루트로 선언된게 없다보니</p><p>ribbon으로 LB하려는 서버가 없어서 NPE가 발생한 것</p><h3 id="solved-1"> <a href="#solved-1" class="anchor-heading" aria-labelledby="solved-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> solved 1</h3><p>healthcheck url을 변경하고 싶다면,</p><p>별도의 configuration파일을 생성해서 bean으로 올리고 ribbonClients 설정으로 지정해주면 된다.</p><p>path를 yml로 빼서 주는 방법도 있겠다.</p><p>그게 아니라면 디폴트 / 루트로 check된다.</p><p>/ping을 healthcheck uri로 뺐다.</p><p>[yml]</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>thirdparty-gateway:
  health-check-location: /ping
  ribbon:
    eureka:
      enabled: false
    NIWSServerListClassName: com.netflix.loadbalancer.ConfigurationBasedServerList
    listOfServers: localhost:19011,localhost:19013
    NFLoadBalancerRuleClassName: com.netflix.loadbalancer.AvailabilityFilteringRule
    NFLoadBalancerPingClassName: com.ext.FeignRibbonPing
</code></pre></div></div><p>[java]</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import com.netflix.loadbalancer.PingUrl;

public class FeignRibbonPing extends PingUrl {
    @Value("${thirdparty-gateway.health-check-location:}")
    private String healthCheckLocation;

    @Override
    public String getPingAppendString() {
        return healthCheckLocation;
    }
}
</code></pre></div></div><p>[nginx.conf]</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>location /ping {
    access_log off;  # on으로 하면 너무 많이 쌓인다.
    add_header 'Content-Type' 'application/json';
    return 200 '{"status":"UP"}';
}
</code></pre></div></div><p>** 참고로, nginx plus인 상용버전엔 별도로 health check용 location을 선언하지 않아도, health check 모듈?이 있는 것 같다.</p><p><a href="https://grip.news/archives/1291">Nginx, Nginx Plus 차이 - GRIP.News</a></p><ul><li>테스트<ul><li>ping잘 올라온다.<li>번갈아가며 outgoing하고 있다.<li>가용성 검증</ul><li>만약에 서버 정보가 잘못된 경우<ul><li>400, 500에 대해서 LB가 되는지</ul><li>한쪽서버가 가용하지 않은 경우 ping이 안된다는 에러가 주기적으로 찍힌다</ul><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>java.net.ConnectException: Connection refused: connect
at java.net.TwoStacksPlainSocketImpl.socketConnect(Native Method)
at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
at java.net.Socket.connect(Socket.java:607)
at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:121)
at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180)
at org.apache.http.impl.conn.ManagedClientConnectionImpl.open(ManagedClientConnectionImpl.java:326)
at org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:605)
at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:440)
at org.apache.http.impl.client.AbstractHttpClient.doExecute(AbstractHttpClient.java:835)
at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)
at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
at com.netflix.loadbalancer.PingUrl.isAlive(PingUrl.java:126)
at com.netflix.loadbalancer.BaseLoadBalancer$SerialPingStrategy.pingServers(BaseLoadBalancer.java:921)
at com.netflix.loadbalancer.BaseLoadBalancer$Pinger.runPinger(BaseLoadBalancer.java:691)
</code></pre></div></div><h3 id="feignclient---name-or-url"> <a href="#feignclient---name-or-url" class="anchor-heading" aria-labelledby="feignclient---name-or-url"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> FeignClient - name or url</h3><p>url을 쓰는 경우도 있고 name을 통해 nginx의 gateway를 통해서 호출하는 경우도 모두 지원해야한다고 하면</p><ul><li>두개다 모두 정의할 경우에 대한 우선순위를 테스트를 통해서 정리해봤다.<ol><li>name은 필수값이 되어버렷다. 단, url은 null이어도 된다. (이전 feign은 필수가 아니였음)<li>name, url 두개다 설정했을 때, url로 나간다.. 중복해서 name으로 나가진 않았다.</ol></ul><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@FeignClient</span><span class="o">(</span>
    <span class="n">contextId</span> <span class="o">=</span> <span class="s">"com.TestClient"</span><span class="o">,</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">"${test.subapi.name}"</span><span class="o">,</span>
		<span class="n">url</span> <span class="o">=</span> <span class="s">"NO_URL"</span><span class="o">,</span>
    <span class="n">configuration</span> <span class="o">=</span> <span class="o">{</span><span class="nc">FeignConfiguration</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="nc">FeignRetryConfiguration</span><span class="o">.</span><span class="na">class</span><span class="o">},</span>
    <span class="n">primary</span> <span class="o">=</span> <span class="kc">false</span>
<span class="o">)</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">TestClient</span><span class="o">{</span>
</code></pre></div></div><ol><li>제품에는<ol><li>url을 쓰고자 하면 yml에 url을 정의하고, ribbon설정을 주석하도록 가이드했고, name을 쓰려고 하면 url을 공란으로 하는 것으로 했다.<li>(다시 변경) feign call 하기 전에 nginx로 연결한 listOfServers의 서버의 상태가 Alive한지 체크하는 것을 추가해서 정상일 경우 name으로 호출하고 그게 아니면 url값을 참조해서 API호출하도록 했다.</ol><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> import com.netflix.loadbalancer.Server;
 import lombok.RequiredArgsConstructor;
 import lombok.extern.slf4j.Slf4j;
 import org.springframework.cloud.client.ServiceInstance;
 import org.springframework.cloud.client.loadbalancer.LoadBalancerClient;
 import org.springframework.cloud.netflix.ribbon.RibbonLoadBalancerClient;
 import org.springframework.stereotype.Service;
    
 @Slf4j
 @Service
 @RequiredArgsConstructor
 public class FeignRibbonService {    
 		private final LoadBalancerClient loadBalancerClient;
    
     public boolean isAlive() {        
 			try {            
 				final ServiceInstance instance = loadBalancerClient.choose("thirdparty.thirdparty-gateway");
         Server server;            
 				if (instance instanceof RibbonLoadBalancerClient.RibbonServer) {
 		        RibbonLoadBalancerClient.RibbonServer ribbonServer = (RibbonLoadBalancerClient.RibbonServer) instance; 
             server = ribbonServer.getServer();                
 						return server.isAlive();            
 				} else {                
 					server = new Server(instance.getScheme(), instance.getHost(), instance.getPort());   
              return server.isAlive();            
 				}        
 			} catch (Exception e) {            
 					log.error(e.getMessage());            
 					return false;        
 		}    
 	}
 }
</code></pre></div></div></ol><h3 id="reference"> <a href="#reference" class="anchor-heading" aria-labelledby="reference"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> reference</h3><p><a href="https://niiiii99.github.io/Ribbon%EC%9C%BC%EB%A1%9C-LoadBalancing/">Ribbon으로 Load Balancing처리(without Eureka)</a></p><p><a href="https://github.com/yanghun0070/dayco/issues/11#issuecomment-602065453">LoadBalancer: Error choosing server for key null 에러 · Issue #11 · yanghun0070/dayco</a></p><p><a href="https://stackoverflow.com/a/70383057/14257397">Simple healthcheck endpoint in nginx server container</a></p><h3 id="more-detail"> <a href="#more-detail" class="anchor-heading" aria-labelledby="more-detail"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> more detail..</h3><p>좀더 디테일하게 하려면, config생성해서 주입</p><p><a href="https://cloud.spring.io/spring-cloud-netflix/multi/multi_spring-cloud-ribbon.html">6. Client Side Load Balancer: Ribbon</a></p><p>꼭 주입안해도 클래스로 주입하는 방법</p><p><a href="https://github.com/spring-cloud/spring-cloud-netflix/issues/92">https://github.com/spring-cloud/spring-cloud-netflix/issues/92</a></p><p>설정디테일</p><p><a href="https://gunju-ko.github.io/spring-cloud/netflixoss/2018/12/14/Ribbon.html">Ribbon</a></p><div class="col-lg-8 col-md-10 mx-auto"><hr/> <script src="https://utteranc.es/client.js" repo="tnfhrnsss/tnfhrnsss.github.io" issue-term="url" theme="boxy-light" crossorigin="anonymous" async> </script></div><hr><footer><p><a href="#top" id="back-to-top">Back to top</a></p><p class="text-small text-grey-dk-100 mb-0">Copyright &copy; 2017-2020 Patrick Marsceill. Distributed by an <a href="https://github.com/pmarsceill/just-the-docs/tree/master/LICENSE.txt">MIT license.</a></p><div class="d-flex mt-2"></div></footer></div></div><div class="search-overlay"></div></div>
