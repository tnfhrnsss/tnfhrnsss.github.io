I"ì<h1 id="browsermatch">BrowserMatch</h1>

<p>ê¸°ë³¸ ì•„íŒŒì¹˜ë¥¼ ìœˆë„ìš°ì— ì„¤ì¹˜í•˜ê³  ë‚˜ë‹ˆ httpd-ssl.confì—</p>

<p>ì•„ë˜ ì„¤ì •ì´ ìˆì—ˆë‹¤.</p>

<hr />

<p>BrowserMatch â€œ.<em>MSIE.</em>â€ \nokeepalive ssl-unclean-shutdown \downgrade-1.0 force-response-1.0</p>

<hr />

<p>ì½˜ì†”ì— ë¡œê·¸ì¸í•´ì„œ ìƒë‹´í•˜ê¸°ê¹Œì§€ í™œì„±í™”í•˜ëŠ”ë° 1ë¶„ì´ë‚˜ ê±¸ë¦¬ê²Œ ë˜ì–´ì„œ</p>

<p>ì£¼ì„ì„ í•˜ê³  ì¬ì‹œì‘í•˜ë‹ˆ, ì—„ì²­ ë¹¨ë¼ì§.</p>

<p>íŒŒì•…í•´ë³¸ê²°ê³¼ ì´ ë¸”ë¡œê·¸ì—ì„œ (http://blogs.msdn.com/b/ieinternals/archive/2011/03/26/https-and-connection-close-is-your-apache-modssl-server-configuration-set-to-slow.aspx)</p>

<p>Four years ago, there was a<a href="https://www.blogger.com/blog/post/edit/2689228726924373128/658335713030481387#">public call</a>to update the guidance to reflect the fact that users of more modern browsers were paying an unneeded performance penalty. Finally, in June 2010, the default guidance was changed in recognition of the fact that the problem never affected IE6 and later:</p>

<blockquote>
  <p>BrowserMatch â€œ.<em>MSIE [1-5].</em>â€ \nokeepalive ssl-unclean-shutdown \downgrade-1.0 force-response-1.0</p>

</blockquote>

<p>Unfortunately, many major Apache installations still havenâ€™t been updated with even this guidance. Also, alert readers will spot a very obvious problem with the â€œnewâ€ regular expression.</p>

<p>In the expression above, any IE version that <em>starts with</em>â€œ1â€ will be treated as outdated and served connection slowly without Keep-Alive. Internet Explorer 1.0 didnâ€™t even support SSL at all (<a href="https://www.blogger.com/blog/post/edit/2689228726924373128/658335713030481387#">SSL was added in 2.0</a>), but worse, this loosely-written regular expression will also match<em>future</em><strong>MSIE 10.0,MSIE 11.0,MSIE 12.0</strong>(etc)<em>**</em>user-agent strings. Hence, Apache hosts will one day find that the<em>newest</em>browsers are forced into the â€œslowâ€ lane!</p>

<p>At the very least, Apache hosts should update their regular expression to this:</p>

<blockquote>
  <p>BrowserMatch â€œ.<em>MSIE [2-5]..</em>â€ \nokeepalive ssl-unclean-shutdown \downgrade-1.0 force-response-1.0</p>

</blockquote>

<p>â€¦but ultimately, they should probably remove this hack altogether. The ancient Internet Explorer 6â€™s marketshare is in decline, and thereâ€™s almost never any business reason to try to accommodate even older browsers.</p>

<p>ìš”ì•½í•˜ë©´ ì‚­ì œí•´ì•¼í•  ì„¤ì •ì¸ë° ì•„íŒŒì¹˜ì—ì„œ ì•„ì§ë„ ê»´ì„œ ë°°í¬í•˜ê³  ìˆë‹¤ëŠ” ê²ƒ..</p>

<hr />

<p>ì›ë˜ BrowserMatchë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìœ ìš”í•œ ì„¤ì •ì€ íŠ¹ì • ë²„ì „ì˜ ë¸Œë¼ìš°ì €ì— ë¬¸ì œê°€ ìˆì–´ì„œ ì•„ë˜ì²˜ëŸ¼ ë¶„ê¸°í•˜ê³ ì í• ë•Œ ì“´ë‹¤.</p>

<p>(http://webdir.tistory.com/178)</p>

<p>BrowserMatch â€œMozilla/2â€ nokeepalive</p>

<h3 id="browsermatch-msie-40b2-nokeepalive-downgrade-10-force-response-10">BrowserMatch â€œMSIE 4.0b2;â€ nokeepalive downgrade-1.0 force-response-1.0</h3>

<h3 id="browsermatch-realplayer-40-force-response-10">BrowserMatch â€œRealPlayer 4.0â€ force-response-1.0</h3>

<h3 id="browsermatch-java10-force-response-10">BrowserMatch â€œJava/1.0â€ force-response-1.0</h3>

<h3 id="browsermatch-jdk10-force-response-10">BrowserMatch â€œJDK/1.0â€ force-response-1.0</h3>

<p>BrowserMatch ì§€ì‹œìëŠ” íŠ¹ì • ë¸Œë¼ìš°ì €ë“¤ì— ëŒ€í•œ íŠ¹ì • ìˆ˜í–‰ì„ ì§€ì‹œí•˜ê¸° ìœ„í•œ ì„¤ì •ë“¤ì´ë‹¤.</p>

<ul>
  <li>ì²«ë²ˆì§¸ ê²ƒì€ ë„¤ìŠ¤ì¼€ì´í”„ 2.x ë˜ëŠ” ê·¸ë¥¼ í‰ë‚´ë‚´ëŠ” ë¸Œë¼ìš°ì €ì— ëŒ€í•˜ì—¬ KeepAlive ê¸°ëŠ¥ì„ ì“°ì§€ ì•Šë„ë¡ í•œë‹¤. ì´ ë¸Œë¼ìš°ì €ë“¤ì€ KeepAlive êµ¬í˜„ì— ë¬¸ì œì ì„ ê°–ê³  ìˆê¸° ë•Œë¬¸ì´ë‹¤.</li>
  <li>ë‘ë²ˆì§¸ ê²ƒì€ HTTP/1.1ì„ ì˜ëª» êµ¬í˜„í•˜ì˜€ê³  301 ë˜ëŠ” 302 (redirect)ë°˜ì‘ì— ëŒ€í•˜ì—¬ KeepAliveë¥¼ ì œëŒ€ë¡œ ì§€ì›í•˜ì§€ ëª»í•˜ëŠ” ë§ˆì´í¬ë¡œì†Œí”„íŠ¸ ì¸í„°ë„· ìµìŠ¤í”Œë¡œëŸ¬ 4.0b2ë¥¼ ìœ„í•œ ê²ƒì´ë‹¤.</li>
  <li>ì„¸ë²ˆì§¸ ê²ƒì€ ë„¤ë²ˆì§¸ ë‹¤ì„¯ë²ˆì§¸ ê²ƒë“¤ì€ ê¸°ë³¸ì ì¸ 1.1 ë°˜ì‘ë„ ì œëŒ€ë¡œ ì²˜ë¦¬í•˜ì§€ ëª»í•¨ìœ¼ë¡œì¨ HTTP/1.1 ìŠ¤í™ì„ ìœ„ë°˜í•˜ê³  ìˆëŠ” ë¸Œë¼ìš°ì €ì— ëŒ€í•˜ì—¬ HTTP/1.1 ë°˜ì‘ì„ í•˜ì—¬ í•˜ì§€ ì•Šë„ë¡ í•œë‹¤.</li>
</ul>

<h3 id="browsermatch-microsoft-data-access-internet-publishing-provider-redirect-carefully">BrowserMatch â€œMicrosoft Data Access Internet Publishing Providerâ€ redirect-carefully</h3>

<h3 id="browsermatch-ms-frontpage-redirect-carefully">BrowserMatch â€œMS FrontPageâ€ redirect-carefully</h3>

<h3 id="browsermatch-webdrive-redirect-carefully">BrowserMatch â€œ^WebDriveâ€ redirect-carefully</h3>

<h3 id="browsermatch-webdavfs10123-redirect-carefully">BrowserMatch â€œ^WebDAVFS/1.[0123]â€ redirect-carefully</h3>

<h3 id="browsermatch-gnome-vfs10-redirect-carefully">BrowserMatch â€œ^gnome-vfs/1.0â€ redirect-carefully</h3>

<h3 id="browsermatch-xml-spy-redirect-carefully">BrowserMatch â€œ^XML Spyâ€ redirect-carefully</h3>

<h3 id="browsermatch-dreamweaver-webdav-scm1-redirect-carefully">BrowserMatch â€œ^Dreamweaver-WebDAV-SCM1â€ redirect-carefully</h3>

<p>ìœ„ ì§€ì‹œìë“¤ë„ êµ¬í˜„ì— ë¬¸ì œê°€ ìˆëŠ” ê²ƒë“¤ì— ëŒ€í•œ ì²˜ë¦¬ë°©ì‹ì„ ì§€ì •í•œ ê²ƒì´ë‹¤.</p>
:ET